{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/lib/api.ts"],"sourcesContent":["// lib/api.ts\nimport axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\",\n  withCredentials: true, // send cookies (refresh token cookie)\n});\n\nlet isRefreshing = false;\nlet failedQueue: any[] = [];\n\nconst processQueue = (error: any, token: string | null = null) => {\n  failedQueue.forEach(prom => {\n    if (error) prom.reject(error);\n    else prom.resolve(token);\n  });\n  failedQueue = [];\n};\n\napi.interceptors.request.use((config) => {\n  const token = (globalThis as any)._AS_ACCESS_TOKEN;\n  if (token && config.headers) config.headers[\"Authorization\"] = `Bearer ${token}`;\n  return config;\n});\n\napi.interceptors.response.use(\n  (res) => res,\n  (err) => {\n    const originalReq = err.config;\n    if (err.response && err.response.status === 401 && !originalReq._retry) {\n      if (isRefreshing) {\n        return new Promise(function (resolve, reject) {\n          failedQueue.push({ resolve, reject });\n        })\n          .then((token) => {\n            originalReq.headers[\"Authorization\"] = \"Bearer \" + token;\n            return api(originalReq);\n          })\n          .catch((e) => Promise.reject(e));\n      }\n\n      originalReq._retry = true;\n      isRefreshing = true;\n\n      return new Promise(async (resolve, reject) => {\n        try {\n          const res = await api.post(\"/refresh\", {}, { withCredentials: true });\n          const accessToken = res.data.access_token;\n          (globalThis as any)._AS_ACCESS_TOKEN = accessToken;\n          processQueue(null, accessToken);\n          originalReq.headers[\"Authorization\"] = \"Bearer \" + accessToken;\n          resolve(api(originalReq));\n        } catch (e) {\n          processQueue(e, null);\n          reject(e);\n        } finally {\n          isRefreshing = false;\n        }\n      });\n    }\n    return Promise.reject(err);\n  }\n);\n\nexport default api;\n\n"],"names":[],"mappings":"AAAA,aAAa;;;;;AAIF;AAHX;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,6DAAmC;IAC5C,iBAAiB;AACnB;AAEA,IAAI,eAAe;AACnB,IAAI,cAAqB,EAAE;AAE3B,MAAM,eAAe,CAAC,OAAY,QAAuB,IAAI;IAC3D,YAAY,OAAO,CAAC,CAAA;QAClB,IAAI,OAAO,KAAK,MAAM,CAAC;aAClB,KAAK,OAAO,CAAC;IACpB;IACA,cAAc,EAAE;AAClB;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B,MAAM,QAAQ,AAAC,WAAmB,gBAAgB;IAClD,IAAI,SAAS,OAAO,OAAO,EAAE,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IAChF,OAAO;AACT;AAEA,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,MAAQ,KACT,CAAC;IACC,MAAM,cAAc,IAAI,MAAM;IAC9B,IAAI,IAAI,QAAQ,IAAI,IAAI,QAAQ,CAAC,MAAM,KAAK,OAAO,CAAC,YAAY,MAAM,EAAE;QACtE,IAAI,cAAc;YAChB,OAAO,IAAI,QAAQ,SAAU,OAAO,EAAE,MAAM;gBAC1C,YAAY,IAAI,CAAC;oBAAE;oBAAS;gBAAO;YACrC,GACG,IAAI,CAAC,CAAC;gBACL,YAAY,OAAO,CAAC,gBAAgB,GAAG,YAAY;gBACnD,OAAO,IAAI;YACb,GACC,KAAK,CAAC,CAAC,IAAM,QAAQ,MAAM,CAAC;QACjC;QAEA,YAAY,MAAM,GAAG;QACrB,eAAe;QAEf,OAAO,IAAI,QAAQ,OAAO,SAAS;YACjC,IAAI;gBACF,MAAM,MAAM,MAAM,IAAI,IAAI,CAAC,YAAY,CAAC,GAAG;oBAAE,iBAAiB;gBAAK;gBACnE,MAAM,cAAc,IAAI,IAAI,CAAC,YAAY;gBACxC,WAAmB,gBAAgB,GAAG;gBACvC,aAAa,MAAM;gBACnB,YAAY,OAAO,CAAC,gBAAgB,GAAG,YAAY;gBACnD,QAAQ,IAAI;YACd,EAAE,OAAO,GAAG;gBACV,aAAa,GAAG;gBAChB,OAAO;YACT,SAAU;gBACR,eAAe;YACjB;QACF;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/app/signup/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport api from \"@/lib/api\"\nimport Link from \"next/link\"\n\nexport default function SignupPage() {\n  const [form, setForm] = useState({ name: \"\", email: \"\", password: \"\" })\n  const [message, setMessage] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      const res = await api.post(\"/signup\", form)\n      setMessage(\"Account created! Redirecting to login...\")\n      setTimeout(() => (window.location.href = \"/login\"), 1500)\n    } catch (err: any) {\n      setMessage(err.response?.data?.detail || \"Error creating account\")\n    }\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-black text-white px-4\">\n      <div className=\"w-full max-w-md bg-[#111]/80 backdrop-blur rounded-xl border border-white/10 p-8\">\n        <h1 className=\"text-2xl font-semibold text-center mb-6\">Create your account</h1>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <input type=\"text\" placeholder=\"Name\" className=\"w-full bg-[#0a0a0f] border border-white/10 rounded-md px-4 py-2\"\n            value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} />\n          <input type=\"email\" placeholder=\"Email\" className=\"w-full bg-[#0a0a0f] border border-white/10 rounded-md px-4 py-2\"\n            value={form.email} onChange={(e) => setForm({ ...form, email: e.target.value })} />\n          <input type=\"password\" placeholder=\"Password\" className=\"w-full bg-[#0a0a0f] border border-white/10 rounded-md px-4 py-2\"\n            value={form.password} onChange={(e) => setForm({ ...form, password: e.target.value })} />\n          <button className=\"w-full bg-gradient-to-r from-purple-600 to-pink-500 py-2 rounded-md font-medium hover:opacity-90 transition\">\n            Sign Up\n          </button>\n        </form>\n        {message && <p className=\"text-center text-sm text-gray-400 mt-3\">{message}</p>}\n        <p className=\"text-center text-sm text-gray-400 mt-4\">\n          Already have an account? <Link href=\"/login\" className=\"text-purple-400 hover:text-purple-300\">Login</Link>\n        </p>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;QAAE,MAAM;QAAI,OAAO;QAAI,UAAU;IAAG;IACrE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,MAAM,MAAM,wHAAG,CAAC,IAAI,CAAC,WAAW;YACtC,WAAW;YACX,WAAW,IAAO,OAAO,QAAQ,CAAC,IAAI,GAAG,UAAW;QACtD,EAAE,OAAO,KAAU;YACjB,WAAW,IAAI,QAAQ,EAAE,MAAM,UAAU;QAC3C;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA0C;;;;;;8BACxD,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BAAM,MAAK;4BAAO,aAAY;4BAAO,WAAU;4BAC9C,OAAO,KAAK,IAAI;4BAAE,UAAU,CAAC,IAAM,QAAQ;oCAAE,GAAG,IAAI;oCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCAC7E,6LAAC;4BAAM,MAAK;4BAAQ,aAAY;4BAAQ,WAAU;4BAChD,OAAO,KAAK,KAAK;4BAAE,UAAU,CAAC,IAAM,QAAQ;oCAAE,GAAG,IAAI;oCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCAC/E,6LAAC;4BAAM,MAAK;4BAAW,aAAY;4BAAW,WAAU;4BACtD,OAAO,KAAK,QAAQ;4BAAE,UAAU,CAAC,IAAM,QAAQ;oCAAE,GAAG,IAAI;oCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gCAAC;;;;;;sCACrF,6LAAC;4BAAO,WAAU;sCAA8G;;;;;;;;;;;;gBAIjI,yBAAW,6LAAC;oBAAE,WAAU;8BAA0C;;;;;;8BACnE,6LAAC;oBAAE,WAAU;;wBAAyC;sCAC3B,6LAAC,0KAAI;4BAAC,MAAK;4BAAS,WAAU;sCAAwC;;;;;;;;;;;;;;;;;;;;;;;AAKzG;GArCwB;KAAA","debugId":null}}]
}