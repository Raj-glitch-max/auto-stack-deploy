{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { LayoutDashboard, GitBranch, AlertCircle, Cpu, Settings, ChevronLeft, ChevronRight } from \"lucide-react\"\n\nconst navItems = [\n  { name: \"Dashboard\", href: \"/dashboard\", icon: LayoutDashboard },\n  { name: \"Deployments\", href: \"/deployments\", icon: GitBranch },\n  { name: \"Alerts\", href: \"/alerts\", icon: AlertCircle },\n  { name: \"Agents\", href: \"/agents\", icon: Cpu },\n  { name: \"Settings\", href: \"/settings\", icon: Settings },\n]\n\nexport function Sidebar() {\n  const [collapsed, setCollapsed] = useState(false)\n  const pathname = usePathname()\n\n  return (\n    <aside\n      className=\"hidden md:flex fixed left-0 top-0 h-screen bg-surface border-r border-white/10 flex-col transition-smooth z-40\"\n      style={{ width: collapsed ? \"80px\" : \"256px\" }}\n    >\n      <div className=\"flex items-center justify-between px-4 mb-10 pt-6\">\n        <div className={`font-bold text-xl text-accent tracking-wide ${collapsed ? \"hidden\" : \"block\"}`}>\n          AutoStack\n        </div>\n        <button\n          onClick={() => setCollapsed(!collapsed)}\n          className=\"p-1 hover:bg-accent-soft rounded-lg transition-smooth\"\n          title={collapsed ? \"Expand\" : \"Collapse\"}\n        >\n          {collapsed ? <ChevronRight size={20} /> : <ChevronLeft size={20} />}\n        </button>\n      </div>\n\n      <nav className=\"flex-1 space-y-2 px-3\">\n        {navItems.map((item) => {\n          const Icon = item.icon\n          const isActive = pathname === item.href\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-smooth ${\n                isActive\n                  ? \"bg-accent text-background shadow-[0_0_15px_rgba(0,246,199,0.3)]\"\n                  : \"text-text-secondary hover:bg-accent-soft hover:text-accent\"\n              }`}\n            >\n              <Icon size={20} className=\"flex-shrink-0\" />\n              <span className={`${collapsed ? \"hidden\" : \"inline\"} transition-smooth`}>{item.name}</span>\n            </Link>\n          )\n        })}\n      </nav>\n    </aside>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AALA;;;;;AAOA,MAAM,WAAW;IACf;QAAE,MAAM;QAAa,MAAM;QAAc,MAAM,kPAAe;IAAC;IAC/D;QAAE,MAAM;QAAe,MAAM;QAAgB,MAAM,gOAAS;IAAC;IAC7D;QAAE,MAAM;QAAU,MAAM;QAAW,MAAM,sOAAW;IAAC;IACrD;QAAE,MAAM;QAAU,MAAM;QAAW,MAAM,0MAAG;IAAC;IAC7C;QAAE,MAAM;QAAY,MAAM;QAAa,MAAM,yNAAQ;IAAC;CACvD;AAEM,SAAS;;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,WAAW,IAAA,oJAAW;IAE5B,qBACE,6LAAC;QACC,WAAU;QACV,OAAO;YAAE,OAAO,YAAY,SAAS;QAAQ;;0BAE7C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAW,CAAC,4CAA4C,EAAE,YAAY,WAAW,SAAS;kCAAE;;;;;;kCAGjG,6LAAC;wBACC,SAAS,IAAM,aAAa,CAAC;wBAC7B,WAAU;wBACV,OAAO,YAAY,WAAW;kCAE7B,0BAAY,6LAAC,yOAAY;4BAAC,MAAM;;;;;iDAAS,6LAAC,sOAAW;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAIjE,6LAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC;oBACb,MAAM,OAAO,KAAK,IAAI;oBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;oBACvC,qBACE,6LAAC,0KAAI;wBAEH,MAAM,KAAK,IAAI;wBACf,WAAW,CAAC,iEAAiE,EAC3E,WACI,oEACA,8DACJ;;0CAEF,6LAAC;gCAAK,MAAM;gCAAI,WAAU;;;;;;0CAC1B,6LAAC;gCAAK,WAAW,GAAG,YAAY,WAAW,SAAS,kBAAkB,CAAC;0CAAG,KAAK,IAAI;;;;;;;uBAT9E,KAAK,IAAI;;;;;gBAYpB;;;;;;;;;;;;AAIR;GA5CgB;;QAEG,oJAAW;;;KAFd","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/layout/navbar.tsx"],"sourcesContent":["\"use client\"\n\nimport { Search, Bell, User } from \"lucide-react\"\n\nexport function Navbar() {\n  return (\n    <nav className=\"fixed top-0 right-0 left-0 md:left-64 h-16 glass flex items-center justify-between px-6 z-30 border-b border-white/10\">\n      <div className=\"flex items-center gap-4 flex-1\">\n        <div className=\"relative hidden md:block\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary\" size={18} />\n          <input\n            type=\"text\"\n            placeholder=\"Search deployments...\"\n            className=\"bg-surface-light text-text text-sm px-10 py-2 rounded-lg border border-white/10 focus:outline-none focus:border-accent transition-smooth placeholder-text-secondary w-72\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <button className=\"p-2 hover:bg-accent-soft rounded-lg transition-smooth relative\">\n          <Bell size={20} className=\"text-text\" />\n          <span className=\"absolute top-1 right-1 w-2 h-2 bg-error rounded-full\"></span>\n        </button>\n        <button className=\"p-2 hover:bg-accent-soft rounded-lg transition-smooth\">\n          <User size={20} className=\"text-text\" />\n        </button>\n      </div>\n    </nav>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAFA;;;AAIO,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,mNAAM;4BAAC,WAAU;4BAA+D,MAAM;;;;;;sCACvF,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;;;;;;;;;;;;;;;;;0BAKhB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,WAAU;;0CAChB,6LAAC,6MAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC1B,6LAAC;gCAAK,WAAU;;;;;;;;;;;;kCAElB,6LAAC;wBAAO,WAAU;kCAChB,cAAA,6LAAC,6MAAI;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKpC;KAzBgB","debugId":null}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/layout/main-layout.tsx"],"sourcesContent":["\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { Sidebar } from \"./sidebar\"\nimport { Navbar } from \"./navbar\"\n\nexport function MainLayout({ children }: { children: ReactNode }) {\n  return (\n    <div className=\"flex flex-col\">\n      <Navbar />\n      <div className=\"flex flex-1 pt-16 pb-16 md:pb-0\">\n        <Sidebar />\n        <main className=\"flex-1 md:ml-64 p-4 md:p-6 bg-background\">{children}</main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAMO,SAAS,WAAW,EAAE,QAAQ,EAA2B;IAC9D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,4IAAM;;;;;0BACP,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,8IAAO;;;;;kCACR,6LAAC;wBAAK,WAAU;kCAA4C;;;;;;;;;;;;;;;;;;AAIpE;KAVgB","debugId":null}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/ui/modal.tsx"],"sourcesContent":["\"use client\"\n\nimport type { ReactNode } from \"react\"\nimport { X } from \"lucide-react\"\n\ninterface ModalProps {\n  isOpen: boolean\n  onClose: () => void\n  title: string\n  children: ReactNode\n}\n\nexport function Modal({ isOpen, onClose, title, children }: ModalProps) {\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div className=\"absolute inset-0 bg-background/80 backdrop-blur-sm\" onClick={onClose} />\n\n      {/* Modal */}\n      <div className=\"relative glass rounded-xl w-full max-w-md p-6 shadow-2xl\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-semibold text-text\">{title}</h2>\n          <button onClick={onClose} className=\"p-1 hover:bg-surface-light rounded-lg transition-smooth\">\n            <X size={20} />\n          </button>\n        </div>\n\n        <div>{children}</div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAYO,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAc;IACpE,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;gBAAqD,SAAS;;;;;;0BAG7E,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,6LAAC;gCAAO,SAAS;gCAAS,WAAU;0CAClC,cAAA,6LAAC,oMAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAIb,6LAAC;kCAAK;;;;;;;;;;;;;;;;;;AAId;KArBgB","debugId":null}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/deployments/new-deployment-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { type FormEvent, useState } from \"react\"\nimport { Modal } from \"@/components/ui/modal\"\n\ninterface NewDeploymentModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onDeploy: (data: DeploymentData) => void\n}\n\nexport interface DeploymentData {\n  repoUrl: string\n  branch: string\n  environment: string\n}\n\nexport function NewDeploymentModal({ isOpen, onClose, onDeploy }: NewDeploymentModalProps) {\n  const [formData, setFormData] = useState<DeploymentData>({\n    repoUrl: \"\",\n    branch: \"main\",\n    environment: \"production\",\n  })\n  const [loading, setLoading] = useState(false)\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n\n    // Simulate API call\n    await new Promise((resolve) => setTimeout(resolve, 500))\n\n    onDeploy(formData)\n    setFormData({ repoUrl: \"\", branch: \"main\", environment: \"production\" })\n    setLoading(false)\n    onClose()\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose} title=\"Deploy New App\">\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-text-secondary mb-2\">GitHub Repository URL</label>\n          <input\n            type=\"url\"\n            required\n            placeholder=\"https://github.com/username/repo\"\n            value={formData.repoUrl}\n            onChange={(e) => setFormData({ ...formData, repoUrl: e.target.value })}\n            className=\"w-full bg-surface text-text border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-accent transition-smooth\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-text-secondary mb-2\">Branch</label>\n          <input\n            type=\"text\"\n            placeholder=\"main\"\n            value={formData.branch}\n            onChange={(e) => setFormData({ ...formData, branch: e.target.value })}\n            className=\"w-full bg-surface text-text border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-accent transition-smooth\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-text-secondary mb-2\">Environment</label>\n          <select\n            value={formData.environment}\n            onChange={(e) => setFormData({ ...formData, environment: e.target.value })}\n            className=\"w-full bg-surface text-text border border-white/10 rounded-lg px-4 py-2 focus:outline-none focus:border-accent transition-smooth\"\n          >\n            <option value=\"staging\">Staging</option>\n            <option value=\"production\">Production</option>\n          </select>\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-accent hover:bg-accent/90 text-background font-medium py-2 rounded-lg transition-smooth disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {loading ? \"Deploying...\" : \"Deploy Now\"}\n        </button>\n      </form>\n    </Modal>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAiBO,SAAS,mBAAmB,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAA2B;;IACvF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAiB;QACvD,SAAS;QACT,QAAQ;QACR,aAAa;IACf;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QAEX,oBAAoB;QACpB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,SAAS;QACT,YAAY;YAAE,SAAS;YAAI,QAAQ;YAAQ,aAAa;QAAa;QACrE,WAAW;QACX;IACF;IAEA,qBACE,6LAAC,sIAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,OAAM;kBAC7C,cAAA,6LAAC;YAAK,UAAU;YAAc,WAAU;;8BACtC,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAqD;;;;;;sCACtE,6LAAC;4BACC,MAAK;4BACL,QAAQ;4BACR,aAAY;4BACZ,OAAO,SAAS,OAAO;4BACvB,UAAU,CAAC,IAAM,YAAY;oCAAE,GAAG,QAAQ;oCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAC;4BACpE,WAAU;;;;;;;;;;;;8BAId,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAqD;;;;;;sCACtE,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO,SAAS,MAAM;4BACtB,UAAU,CAAC,IAAM,YAAY;oCAAE,GAAG,QAAQ;oCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gCAAC;4BACnE,WAAU;;;;;;;;;;;;8BAId,6LAAC;;sCACC,6LAAC;4BAAM,WAAU;sCAAqD;;;;;;sCACtE,6LAAC;4BACC,OAAO,SAAS,WAAW;4BAC3B,UAAU,CAAC,IAAM,YAAY;oCAAE,GAAG,QAAQ;oCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gCAAC;4BACxE,WAAU;;8CAEV,6LAAC;oCAAO,OAAM;8CAAU;;;;;;8CACxB,6LAAC;oCAAO,OAAM;8CAAa;;;;;;;;;;;;;;;;;;8BAI/B,6LAAC;oBACC,MAAK;oBACL,UAAU;oBACV,WAAU;8BAET,UAAU,iBAAiB;;;;;;;;;;;;;;;;;AAKtC;GArEgB;KAAA","debugId":null}},
    {"offset": {"line": 602, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/deployments/deployments-table.tsx"],"sourcesContent":["\"use client\"\n\nimport { CheckCircle2, AlertCircle, Loader2, MoreVertical } from \"lucide-react\"\nimport React from \"react\"\nimport type { Dispatch, SetStateAction } from \"react\"\n\ninterface Deployment {\n  id: number\n  repo: string\n  branch: string\n  status: \"success\" | \"failed\" | \"running\"\n  deployedAt: string\n}\n\ninterface DeploymentsTableProps {\n  deployments: Deployment[]\n}\n\nconst statusConfig = {\n  success: { icon: CheckCircle2, color: \"text-success\", bg: \"bg-success/10\" },\n  failed: { icon: AlertCircle, color: \"text-error\", bg: \"bg-error/10\" },\n  running: { icon: Loader2, color: \"text-warning\", bg: \"bg-warning/10\" },\n}\n\nexport function DeploymentsTable({ deployments }: DeploymentsTableProps) {\n  return (\n    <div className=\"glass rounded-xl p-6 overflow-x-auto\">\n      <table className=\"w-full text-sm\">\n        <thead>\n          <tr className=\"border-b border-white/10\">\n            <th className=\"text-left py-3 px-4 text-text-secondary\">Repository</th>\n            <th className=\"text-left py-3 px-4 text-text-secondary\">Branch</th>\n            <th className=\"text-left py-3 px-4 text-text-secondary\">Status</th>\n            <th className=\"text-left py-3 px-4 text-text-secondary\">Deployed</th>\n            <th className=\"text-left py-3 px-4 text-text-secondary\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {deployments.map((deployment) => {\n            const config = statusConfig[deployment.status]\n            const Icon = config.icon\n            return (\n              <tr key={deployment.id} className=\"border-b border-white/10 hover:bg-surface-light transition-smooth\">\n                <td className=\"py-4 px-4 text-text font-medium\">{deployment.repo}</td>\n                <td className=\"py-4 px-4 text-text-secondary\">{deployment.branch}</td>\n                <td className=\"py-4 px-4\">\n                  <div className={`flex items-center gap-2 w-fit px-3 py-1 rounded-lg ${config.bg}`}>\n                    <Icon size={16} className={config.color} />\n                    <span className=\"text-xs font-medium capitalize\">{deployment.status}</span>\n                  </div>\n                </td>\n                <td className=\"py-4 px-4 text-text-secondary\">{deployment.deployedAt}</td>\n                <td className=\"py-4 px-4\">\n                  <button className=\"p-1 hover:bg-surface rounded-lg transition-smooth\">\n                    <MoreVertical size={16} className=\"text-text-secondary\" />\n                  </button>\n                </td>\n              </tr>\n            )\n          })}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAFA;;;AAkBA,MAAM,eAAe;IACnB,SAAS;QAAE,MAAM,wOAAY;QAAE,OAAO;QAAgB,IAAI;IAAgB;IAC1E,QAAQ;QAAE,MAAM,sOAAW;QAAE,OAAO;QAAc,IAAI;IAAc;IACpE,SAAS;QAAE,MAAM,+NAAO;QAAE,OAAO;QAAgB,IAAI;IAAgB;AACvE;AAEO,SAAS,iBAAiB,EAAE,WAAW,EAAyB;IACrE,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAM,WAAU;;8BACf,6LAAC;8BACC,cAAA,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;0CACxD,6LAAC;gCAAG,WAAU;0CAA0C;;;;;;;;;;;;;;;;;8BAG5D,6LAAC;8BACE,YAAY,GAAG,CAAC,CAAC;wBAChB,MAAM,SAAS,YAAY,CAAC,WAAW,MAAM,CAAC;wBAC9C,MAAM,OAAO,OAAO,IAAI;wBACxB,qBACE,6LAAC;4BAAuB,WAAU;;8CAChC,6LAAC;oCAAG,WAAU;8CAAmC,WAAW,IAAI;;;;;;8CAChE,6LAAC;oCAAG,WAAU;8CAAiC,WAAW,MAAM;;;;;;8CAChE,6LAAC;oCAAG,WAAU;8CACZ,cAAA,6LAAC;wCAAI,WAAW,CAAC,mDAAmD,EAAE,OAAO,EAAE,EAAE;;0DAC/E,6LAAC;gDAAK,MAAM;gDAAI,WAAW,OAAO,KAAK;;;;;;0DACvC,6LAAC;gDAAK,WAAU;0DAAkC,WAAW,MAAM;;;;;;;;;;;;;;;;;8CAGvE,6LAAC;oCAAG,WAAU;8CAAiC,WAAW,UAAU;;;;;;8CACpE,6LAAC;oCAAG,WAAU;8CACZ,cAAA,6LAAC;wCAAO,WAAU;kDAChB,cAAA,6LAAC,6OAAY;4CAAC,MAAM;4CAAI,WAAU;;;;;;;;;;;;;;;;;2BAZ/B,WAAW,EAAE;;;;;oBAiB1B;;;;;;;;;;;;;;;;;AAKV;KAxCgB","debugId":null}},
    {"offset": {"line": 811, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/lib/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\",\n  timeout: 30000,\n});\n\nexport default api;\n\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,6DAAmC;IAC5C,SAAS;AACX;uCAEe","debugId":null}},
    {"offset": {"line": 830, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/components/deployments/logs-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport api from \"@/lib/api\"\nimport { X } from \"lucide-react\"\n\ninterface LogsModalProps {\n  deployId: string | null\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function LogsModal({ deployId, isOpen, onClose }: LogsModalProps) {\n  const [logs, setLogs] = useState<string[]>([])\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const containerRef = useRef<HTMLDivElement | null>(null)\n  const pollRef = useRef<number | null>(null)\n\n  useEffect(() => {\n    // reset when opening new modal\n    setLogs([])\n    setError(null)\n\n    if (!isOpen || !deployId) return\n\n    let cancelled = false\n    async function fetchOnce() {\n      setLoading(true)\n      try {\n        const res = await api.get(`/status/${deployId}`)\n        const data = res.data\n        // logs expected as array of strings\n        setLogs(Array.isArray(data.logs) ? data.logs : (data.logs ? [String(data.logs)] : []))\n      } catch (e: any) {\n        setError(\"Failed to fetch logs.\")\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    // initial fetch\n    fetchOnce()\n\n    // start polling every 1500ms\n    pollRef.current = window.setInterval(fetchOnce, 1500)\n\n    return () => {\n      cancelled = true\n      if (pollRef.current) {\n        clearInterval(pollRef.current)\n        pollRef.current = null\n      }\n    }\n  }, [isOpen, deployId])\n\n  // auto scroll to bottom when logs change\n  useEffect(() => {\n    if (containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight\n    }\n  }, [logs])\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* backdrop */}\n      <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\" onClick={onClose}></div>\n\n      <div className=\"relative z-10 w-[90%] max-w-3xl bg-surface rounded-2xl shadow-xl overflow-hidden\">\n        <div className=\"flex items-center justify-between p-4 border-b border-zinc-800\">\n          <h3 className=\"text-lg font-semibold\">Deployment Logs</h3>\n          <button onClick={onClose} className=\"p-1 rounded hover:bg-zinc-800\">\n            <X size={18} />\n          </button>\n        </div>\n\n        <div className=\"p-4\">\n          <div className=\"mb-3 text-sm text-text-secondary\">Deploy ID: <code className=\"px-2 py-1 rounded bg-zinc-900\">{deployId}</code></div>\n\n          <div\n            ref={containerRef}\n            className=\"h-64 overflow-auto rounded-md border border-zinc-800 bg-black/40 p-3 text-sm font-mono text-text\"\n            aria-live=\"polite\"\n          >\n            {loading && logs.length === 0 && <div className=\"text-text-secondary\">Loading logsâ€¦</div>}\n            {error && <div className=\"text-error\">{error}</div>}\n\n            {logs.length === 0 && !loading && !error && <div className=\"text-text-secondary\">No logs available yet.</div>}\n\n            {logs.map((ln, idx) => (\n              <div key={idx} className=\"whitespace-pre-wrap py-0.5\">\n                <span className=\"text-zinc-400 mr-2 text-xs\">[{idx + 1}]</span>\n                <span>{ln}</span>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"mt-3 flex gap-2 justify-end\">\n            <button\n              onClick={() => {\n                // force a fetch once by calling status endpoint\n                if (!deployId) return\n                api.get(`/status/${deployId}`).then((r) => {\n                  const data = r.data\n                  setLogs(Array.isArray(data.logs) ? data.logs : (data.logs ? [String(data.logs)] : []))\n                }).catch(() => setError(\"Failed to refresh logs.\"))\n              }}\n              className=\"px-3 py-1 rounded bg-accent hover:bg-accent/90 text-background text-sm\"\n            >\n              Refresh now\n            </button>\n            <button onClick={onClose} className=\"px-3 py-1 rounded border border-zinc-700 text-sm\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1098, "column": 0}, "map": {"version":3,"sources":["file:///home/raj/Documents/Projects/autostack-frontend/app/deployments/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Plus } from \"lucide-react\"\nimport { MainLayout } from \"@/components/layout/main-layout\"\nimport { NewDeploymentModal } from \"@/components/deployments/new-deployment-modal\"\nimport { DeploymentsTable } from \"@/components/deployments/deployments-table\"\nimport { LogsModal } from \"@/components/deployments/logs-modal\"\nimport type { DeploymentData } from \"@/components/deployments/new-deployment-modal\"\nimport api from \"@/lib/api\"\n\nexport default function DeploymentsPage() {\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [deployments, setDeployments] = useState<any[]>([])\n  const [loading, setLoading] = useState(false)\n\n  // For logs modal\n  const [selectedDeployId, setSelectedDeployId] = useState<string | null>(null)\n  const [isLogsOpen, setIsLogsOpen] = useState(false)\n\n  useEffect(() => {\n    async function fetchDeployments() {\n      try {\n        const res = await api.get(\"/deployments\")\n        setDeployments(res.data.deployments || [])\n      } catch (err) {\n        // harmless if endpoint doesn't exist yet\n        console.error(\"Failed to load deployments:\", err)\n      }\n    }\n    fetchDeployments()\n  }, [])\n\n  async function handleDeploy(data: DeploymentData) {\n    const repoUrl = data.repoUrl\n    const branch = data.branch || \"main\"\n\n    setLoading(true)\n    try {\n      const res = await api.post(\"/deploy\", { repo: repoUrl, branch, environment: \"dev\" })\n      const deploy_id = res.data.deploy_id\n\n      const newDeployment = {\n        id: deploy_id,\n        repo: repoUrl.split(\"/\").pop() || \"new-app\",\n        branch,\n        status: \"queued\",\n        deployedAt: \"just now\",\n      }\n\n      setDeployments((prev) => [newDeployment, ...prev])\n      pollStatus(deploy_id)\n    } catch (err) {\n      console.error(\"Deploy failed:\", err)\n      alert(\"Deployment request failed.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function pollStatus(deploy_id: string) {\n    let done = false\n    while (!done) {\n      try {\n        const res = await api.get(`/status/${deploy_id}`)\n        const data = res.data\n\n        setDeployments((prev) =>\n          prev.map((d) => (String(d.id) === String(deploy_id) ? { ...d, status: data.status } : d))\n        )\n\n        if (Array.isArray(data.logs) && data.logs.length) {\n          // optionally update deployedAt with last log timestamp or keep as-is\n        }\n\n        if ([\"success\", \"failed\"].includes(data.status)) done = true\n        else await new Promise((r) => setTimeout(r, 3000))\n      } catch (e) {\n        console.error(\"Polling error:\", e)\n        done = true\n      }\n    }\n  }\n\n  function openLogs(deployId: string) {\n    setSelectedDeployId(deployId)\n    setIsLogsOpen(true)\n  }\n\n  function closeLogs() {\n    setSelectedDeployId(null)\n    setIsLogsOpen(false)\n  }\n\n  return (\n    <MainLayout>\n      <div className=\"space-y-8\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-text mb-2\">Deployments</h1>\n            <p className=\"text-text-secondary\">Manage and monitor all your deployments</p>\n          </div>\n          <button\n            onClick={() => setIsModalOpen(true)}\n            disabled={loading}\n            className=\"flex items-center gap-2 bg-accent hover:bg-accent/90 text-background font-medium px-4 py-2.5 rounded-lg transition-smooth\"\n          >\n            <Plus size={20} />\n            {loading ? \"Deploying...\" : \"Deploy New App\"}\n          </button>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div className=\"glass rounded-xl p-6\">\n            <p className=\"text-text-secondary text-sm mb-2\">Successful</p>\n            <p className=\"text-3xl font-bold text-success\">\n              {deployments.filter((d) => d.status === \"success\").length}\n            </p>\n          </div>\n          <div className=\"glass rounded-xl p-6\">\n            <p className=\"text-text-secondary text-sm mb-2\">Failed</p>\n            <p className=\"text-3xl font-bold text-error\">\n              {deployments.filter((d) => d.status === \"failed\").length}\n            </p>\n          </div>\n          <div className=\"glass rounded-xl p-6\">\n            <p className=\"text-text-secondary text-sm mb-2\">In Progress</p>\n            <p className=\"text-3xl font-bold text-warning\">\n              {deployments.filter((d) =>\n                [\"queued\", \"running\", \"building\", \"cloning\"].includes(d.status)\n              ).length}\n            </p>\n          </div>\n        </div>\n\n        {/* Deployments Table */}\n        <DeploymentsTable deployments={deployments} onViewLogs={openLogs} />\n      </div>\n\n      <NewDeploymentModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onDeploy={handleDeploy}\n      />\n\n      <LogsModal deployId={selectedDeployId} isOpen={isLogsOpen} onClose={closeLogs} />\n    </MainLayout>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AATA;;;;;;;;AAWe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,iBAAiB;IACjB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAgB;IACxE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAA,0KAAS;qCAAC;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAC;oBAC1B,eAAe,IAAI,IAAI,CAAC,WAAW,IAAI,EAAE;gBAC3C,EAAE,OAAO,KAAK;oBACZ,yCAAyC;oBACzC,QAAQ,KAAK,CAAC,+BAA+B;gBAC/C;YACF;YACA;QACF;oCAAG,EAAE;IAEL,eAAe,aAAa,IAAoB;QAC9C,MAAM,UAAU,KAAK,OAAO;QAC5B,MAAM,SAAS,KAAK,MAAM,IAAI;QAE9B,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,wHAAG,CAAC,IAAI,CAAC,WAAW;gBAAE,MAAM;gBAAS;gBAAQ,aAAa;YAAM;YAClF,MAAM,YAAY,IAAI,IAAI,CAAC,SAAS;YAEpC,MAAM,gBAAgB;gBACpB,IAAI;gBACJ,MAAM,QAAQ,KAAK,CAAC,KAAK,GAAG,MAAM;gBAClC;gBACA,QAAQ;gBACR,YAAY;YACd;YAEA,eAAe,CAAC,OAAS;oBAAC;uBAAkB;iBAAK;YACjD,WAAW;QACb,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;YAChC,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,eAAe,WAAW,SAAiB;QACzC,IAAI,OAAO;QACX,MAAO,CAAC,KAAM;YACZ,IAAI;gBACF,MAAM,MAAM,MAAM,wHAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,WAAW;gBAChD,MAAM,OAAO,IAAI,IAAI;gBAErB,eAAe,CAAC,OACd,KAAK,GAAG,CAAC,CAAC,IAAO,OAAO,EAAE,EAAE,MAAM,OAAO,aAAa;4BAAE,GAAG,CAAC;4BAAE,QAAQ,KAAK,MAAM;wBAAC,IAAI;gBAGxF,IAAI,MAAM,OAAO,CAAC,KAAK,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,EAAE;gBAChD,qEAAqE;gBACvE;gBAEA,IAAI;oBAAC;oBAAW;iBAAS,CAAC,QAAQ,CAAC,KAAK,MAAM,GAAG,OAAO;qBACnD,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;YAC9C,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,kBAAkB;gBAChC,OAAO;YACT;QACF;IACF;IAEA,SAAS,SAAS,QAAgB;QAChC,oBAAoB;QACpB,cAAc;IAChB;IAEA,SAAS;QACP,oBAAoB;QACpB,cAAc;IAChB;IAEA,qBACE,6LAAC,wJAAU;;0BACT,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,6LAAC;wCAAE,WAAU;kDAAsB;;;;;;;;;;;;0CAErC,6LAAC;gCACC,SAAS,IAAM,eAAe;gCAC9B,UAAU;gCACV,WAAU;;kDAEV,6LAAC,6MAAI;wCAAC,MAAM;;;;;;oCACX,UAAU,iBAAiB;;;;;;;;;;;;;kCAKhC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAmC;;;;;;kDAChD,6LAAC;wCAAE,WAAU;kDACV,YAAY,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,WAAW,MAAM;;;;;;;;;;;;0CAG7D,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAmC;;;;;;kDAChD,6LAAC;wCAAE,WAAU;kDACV,YAAY,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,UAAU,MAAM;;;;;;;;;;;;0CAG5D,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAmC;;;;;;kDAChD,6LAAC;wCAAE,WAAU;kDACV,YAAY,MAAM,CAAC,CAAC,IACnB;gDAAC;gDAAU;gDAAW;gDAAY;6CAAU,CAAC,QAAQ,CAAC,EAAE,MAAM,GAC9D,MAAM;;;;;;;;;;;;;;;;;;kCAMd,6LAAC,yKAAgB;wBAAC,aAAa;wBAAa,YAAY;;;;;;;;;;;;0BAG1D,6LAAC,iLAAkB;gBACjB,QAAQ;gBACR,SAAS,IAAM,eAAe;gBAC9B,UAAU;;;;;;0BAGZ,6LAAC,2JAAS;gBAAC,UAAU;gBAAkB,QAAQ;gBAAY,SAAS;;;;;;;;;;;;AAG1E;GA3IwB;KAAA","debugId":null}}]
}